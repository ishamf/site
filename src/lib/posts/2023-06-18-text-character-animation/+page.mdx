---
slug: glowing-text-effects
title: Glowing Text Effects
created: 2023-06-18T16:40:00+08:00
---

<script
	lang="ts"
>
	import GlowingText from './GlowingText.svelte';
</script>

<style>
	.static-glow {
		color: rgb(0, 89, 255);
		text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
	}

	@media (prefers-color-scheme: dark) {
		.static-glow {
			color: rgb(0, 255, 255);
		}
	}

	.moving-text {
		--moving-color: black;
		animation: moving-text 1s infinite;
		color: transparent;
	}

	@keyframes moving-text {
		from {
			text-shadow: 0 -4px 0 var(--moving-color);
		}

		50% {
			text-shadow: 0 4px 0 var(--moving-color);
		}

		to {
			text-shadow: 0 -4px 0 var(--moving-color);
		}
	}
</style>


I've been reading [The Wandering Inn](https://wanderinginn.com/) recently. 
In this story, the author does not limit themselves to regular white text on black background. 
They will emphasize some unique or magical words by using <!-- prettier-ignore --><span style="color: #990099">different colors</span>. 
Later on, they used <!-- prettier-ignore --><span style="font-family: serif; font-size: 1.05em">different fonts</span>
and even some <!-- prettier-ignore --><span class="moving-text">animated text</span>
. <!-- prettier-ignore --><span class="text-slate-50 dark:text-slate-800">In some scenes involving invisible characters, 
    the text is actually invisible.</span>

There's a scene involving some magical documents where the characters remark that the text in it is glowing. 
Although it's written <!-- prettier-ignore --><span style="color:#f29b68">in a different color</span>, 
I thought it's a shame there isn't actually any glowing effect. So I thought it would be cool to make one.


What would be an appropriate glow effect? You can make 
a <!-- prettier-ignore --><span class="static-glow">static glow effect</span>
easily enough by using `text-shadow` with a high blur.
But this glow is less "magical text" and more "neon sign".

I decided the magical text should have an uneven glow that is constantly changing. To achieve this using CSS, you have to wrap each character with a `span`,
and animate their `text-shadow` separately, since you need to have a different duration and start time for each of them. 

The letters themselves also need to change color a bit. 
Making the font color brighter is quite easy if you represent the colors in `oklch()`. 

This is the final result. <!-- prettier-ignore --><span class="hidden dark:inline">It looks best on dark backgrounds.</span>

<GlowingText
	color="#cc00cc"
	fontLightnessOffset={0.1}
	text="This text is glowing magically"
/>

<p class="dark:hidden"> It looks best on dark backgrounds: </p>

<div
	class="bg-slate-800 p-4 dark:hidden"
>
	<GlowingText color="#cc00cc" fontLightnessOffset={0.1} text="This text is glowing magically" />
</div>


    
When I started reading TWI, I wondered why the author decided to use black background by default. 
Then the colored text started appearing, and it makes sense.

If you have a lot of these animated text, the animations will take a significant amount of CPU time.
You can disable them when they're outside the viewport using `InteractionObserver`.
